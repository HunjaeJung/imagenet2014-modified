\documentclass{article}

\usepackage[left=2.5cm,right=2.5cm,top=3cm,bottom=3cm,a4paper]{geometry}

% use math pacakges
\usepackage{amsmath,amssymb,amsfonts,amsthm,mathtools}
\everymath{\displaystyle}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

% allows including images
\usepackage{graphicx}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{float} % the [H] option for your figure (place figure position here)

% for inline code
\usepackage{tikz}

% use hyper link
\usepackage{hyperref}

% advanced citation option
\usepackage{natbib}

% font settings
\usepackage{fontspec} % pdflatex is NOT allowed!
\defaultfontfeatures[\rmfamily,\sffamily]{Ligatures=TeX}
\setsansfont[
    Path=_fonts/TeX Gyre/,
    Scale=MatchUppercase,
    UprightFont={*-regular.otf},
    ItalicFont={*-italic.otf},
    BoldFont={*-bold.otf},
    BoldItalicFont={*-bolditalic.otf}
]{texgyreheros}
\setmonofont[
    Path=_fonts/DejaVu/,
    Scale=MatchLowercase,
    UprightFont={*.ttf},
    ItalicFont={*-Oblique.ttf},
    BoldFont={*-Bold.ttf},
    BoldItalicFont={*-BoldOblique.ttf}
]{DejaVuSansMono}

% allows using korean text
\usepackage[hangul]{kotex}
\usepackage{kotex}
\setmainhangulfont[
    Path=_fonts/KoPub/,
    UprightFont={* Light.otf},
    ItalicFont={* Light.otf}, ItalicFeatures={FakeSlant=.167},
    BoldFont={* Bold.otf},
    BoldItalicFont={* Bold.otf}, BoldItalicFeatures={FakeSlant=.167}
]{KoPubBatang_Pro}
\setsanshangulfont[
    Path=_fonts/KoPub/,
    Scale=MatchUppercase,
    UprightFont={* Medium.otf},
    ItalicFont={* Medium.otf},ItalicFeatures={FakeSlant=.167},
    BoldFont={* Bold.otf},
    BoldItalicFont={* Bold.otf}, BoldItalicFeatures={FakeSlant=.167}
]{KoPubDotum_Pro}
\setmonohangulfont[
    Path=_fonts/KoPub/,
    Scale=MatchLowercase,
    UprightFont={* Medium.otf},
    ItalicFont={* Medium.otf},ItalicFeatures={FakeSlant=.167},
    BoldFont={* Bold.otf},
    BoldItalicFont={* Bold.otf}, BoldItalicFeatures={FakeSlant=.167}
]{KoPubDotum_Pro}

% Use first-paragraph indents
\usepackage{indentfirst}

% Paragraph lengths
\setlength{\parindent}{10pt}
\setlength{\parskip}{0pt}

% listing

% define color scheme
\usepackage{xcolor}
% Bootstrap-like color scheme
\definecolor{black}{HTML}{000000}
\definecolor{gray-darker}{HTML}{222222}
\definecolor{gray-dark}{HTML}{333333}
\definecolor{gray}{HTML}{555555}
\definecolor{gray-light}{HTML}{777777}
\definecolor{gray-lighter}{HTML}{EEEEEE}
\definecolor{white}{HTML}{FFFFFF}

\definecolor{primary}{HTML}{428BCA}

\definecolor{success}{HTML}{5CB85C}
\definecolor{success-bg}{HTML}{DFF0D8}
\definecolor{success-text}{HTML}{3C763D}

\definecolor{info}{HTML}{5BC0DE}
\definecolor{info-bg}{HTML}{D9EDF7}
\definecolor{info-text}{HTML}{31708F}

\definecolor{warning}{HTML}{F0AD4E}
\definecolor{warning-bg}{HTML}{FCF8E3}
\definecolor{warning-text}{HTML}{8A6D3B}

\definecolor{danger}{HTML}{D9534F}
\definecolor{danger-bg}{HTML}{F2DEDE}
\definecolor{danger-text}{HTML}{A94442}

\colorlet{background}{white}
\colorlet{text}{gray-dark}

\definecolor{listing-bg}{HTML}{F5F5F5}
\definecolor{listing-border}{HTML}{CCCCCC}
\definecolor{listing-kwd}{HTML}{2F6F9F}
\definecolor{listing-str}{HTML}{D44950}

\definecolor{code-bg}{HTML}{F9F2F4}
\definecolor{code-text}{HTML}{C7254E}
\colorlet{kbd-bg}{gray}
\colorlet{kbd-text}{gray-lighter}

% set document color
\makeatletter
\newcommand{\globalcolor}[1]{%
	    \color{#1}\global\let\default@color\current@color
	}
	\makeatother
	\AtBeginDocument{\globalcolor{text}\pagecolor{background}} % change color here

% allows include programming codes
\usepackage{listings}
\lstset {
    tabsize=4,
    numbers=left,
    firstnumber=auto,
    numberstyle=\color{listing-border}\tiny\ttfamily,
    numbersep=8pt,
    stepnumber=1,
    frame=single,
    frameround=tttt,
    rulesep=8pt,
    breaklines=true,
    captionpos=b,
    showspaces=false,
    keepspaces=true,
    showstringspaces=false,
    showtabs=false,
    basicstyle=\small\ttfamily,
    backgroundcolor=\color{listing-bg},
    rulecolor=\color{listing-border},
    commentstyle=\color{gray-light},
    stringstyle=\color{listing-str},
    keywordstyle=\color{listing-kwd},
    upquote=true,
}

% inline environment: code / keyboard
\lstdefinestyle{code}{
	basicstyle=\small\ttfamily\color{code-text},
	keywordstyle={}, commentstyle={}, stringstyle={},
}
\newcommand\code[2][]{
	\tikz[overlay]\node[
		fill=code-bg, inner sep=2pt,
		text depth=0.2ex, text height=1.25ex,
		anchor=text, rectangle, rounded corners=1mm]
		{\lstinline[style=code]§#2§};
	\phantom{\lstinline§#2§\hskip-.8ex}
}
\lstdefinestyle{kbd}{
	basicstyle=\small\ttfamily\color{kbd-text},
	keywordstyle={}, commentstyle={}, stringstyle={},
}
\newcommand\kbd[2][]{
	\tikz[overlay]\node[
		fill=kbd-bg, inner sep=2pt,
		text depth=0.2ex, text height=1.25ex,
		anchor=text, rectangle, rounded corners=1mm]
		{\lstinline[style=kbd]§#2§};
	\phantom{\lstinline§#2§\hskip-.8ex}
}

% allows using algorithm environment
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\algnewcommand\algorithmicto{\textbf{to}}
\algnewcommand\algorithmicdownto{\textbf{downto}}
\algdef{SE}[FOR]{ForTo}{EndForTo}[2]{\algorithmicfor\ #1 \algorithmicto\ #2 \algorithmicdo}{\algorithmicend\ \algorithmicfor}
\algdef{SnE}[FOR]{ForTo}{EndForTo}[2]{\algorithmicfor\ #1 \algorithmicto\ #2 \algorithmicdo}
\algdef{SE}[FOR]{ForDownTo}{EndForDownTo}[2]{\algorithmicfor\ #1 \algorithmicdownto\ #2 \algorithmicdo}{\algorithmicend\ \algorithmicfor}
\algdef{SnE}[FOR]{ForDownTo}{EndForDownTo}[2]{\algorithmicfor\ #1 \algorithmicdownto\ #2 \algorithmicdo}

\lstdefinelanguage{Julia}%
  {morekeywords={abstract,break,case,catch,const,continue,do,else,elseif,%
      end,export,false,for,function,immutable,import,importall,if,in,%
      macro,module,otherwise,quote,return,switch,true,try,type,typealias,%
      using,while},%
   sensitive=true,%
   alsoother={$},%
   morecomment=[l]\#,%
   morecomment=[n]{\#=}{=\#},%
   morestring=[s]{"}{"},%
   morestring=[m]{'}{'},%
}[keywords,comments,strings]%

\lstset{%
    language         = Julia,
    basicstyle       = \ttfamily,
    keywordstyle     = \bfseries\color{blue},
    stringstyle      = \color{magenta},
    commentstyle     = \color{ForestGreen},
    showstringspaces = false,
}
